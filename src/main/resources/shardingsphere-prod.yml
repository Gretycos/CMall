mode:
  type: Standalone
  repository:
    type: JDBC

dataSources:
  master:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    jdbcUrl: jdbc:mysql://localhost:3306/CMall?useUnicode=true&serverTimezone=Asia/Shanghai&characterEncoding=utf8&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true&allowMultiQueries=true&useAffectedRows=true
    username: root
    password: AaZz112211
    auto-commit: true
    maximum-pool-size: 500
    idle-timeout: 600000
    max-lifetime: 30000
    connection-timeout: 10000
  slave0:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    jdbcUrl: jdbc:mysql://localhost:3307/CMall?useUnicode=true&serverTimezone=Asia/Shanghai&characterEncoding=utf8&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true&allowMultiQueries=true&useAffectedRows=true
    username: root
    password: AaZz112211
    auto-commit: true
    maximum-pool-size: 500
    idle-timeout: 600000
    max-lifetime: 30000
    connection-timeout: 10000

rules:
- !READWRITE_SPLITTING
  dataSources:
    readwrite_ds:
      staticStrategy:
        writeDataSourceName: master
        readDataSourceNames:
          - slave0
      dynamicStrategy:
      loadBalancerName: round_robin
  loadBalancers:
    round_robin:
      type: ROUND_ROBIN

#props:
#  sql-show: true
#  sql-simple: true